<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ImpactAudit | Workforce Risk and Business Outcomes Modeling</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#0f1a2b;
      --muted:#a9b7d0;
      --text:#e9f0ff;
      --accent:#7aa2ff;
      --accent2:#4ee1a0;
      --warn:#ffcc66;
      --border:rgba(233,240,255,.12);
      --shadow: 0 12px 30px rgba(0,0,0,.35);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--sans);
      background: radial-gradient(1200px 700px at 20% 0%, rgba(122,162,255,.18), transparent 60%),
                  radial-gradient(900px 600px at 90% 20%, rgba(78,225,160,.12), transparent 55%),
                  var(--bg);
      color:var(--text);
      line-height:1.55;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{text-decoration:underline}
    header{
      padding:48px 18px 20px;
      max-width:1100px;
      margin:0 auto;
    }
    .kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:8px 12px;
      border:1px solid var(--border);
      border-radius:999px;
      background:rgba(15,26,43,.55);
      box-shadow:var(--shadow);
      color:var(--muted);
      font-size:13px;
    }
    .dot{
      width:9px;height:9px;border-radius:50%;
      background:linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow:0 0 0 4px rgba(122,162,255,.15);
    }
    h1{
      margin:18px 0 10px;
      font-size:38px;
      letter-spacing:.2px;
    }
    .subtitle{
      margin:0 0 18px;
      color:var(--muted);
      max-width:880px;
      font-size:16px;
    }
    .cta-row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:18px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:12px;
      border:1px solid var(--border);
      background:rgba(15,26,43,.55);
      color:var(--text);
      box-shadow:var(--shadow);
      font-weight:600;
      font-size:14px;
    }
    .btn.primary{
      background:linear-gradient(135deg, rgba(122,162,255,.25), rgba(78,225,160,.16));
      border-color:rgba(122,162,255,.35);
    }
    .grid{
      max-width:1100px;
      margin:0 auto;
      padding:14px 18px 60px;
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      h1{font-size:32px}
    }
    .card{
      background:rgba(15,26,43,.62);
      border:1px solid var(--border);
      border-radius:18px;
      padding:18px;
      box-shadow:var(--shadow);
    }
    .card h2{
      margin:0 0 10px;
      font-size:18px;
      letter-spacing:.2px;
    }
    .card h3{
      margin:14px 0 8px;
      font-size:15px;
      color:var(--text);
    }
    .muted{color:var(--muted)}
    .pill-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
    }
    .pill{
      border:1px solid var(--border);
      background:rgba(11,18,32,.35);
      padding:7px 10px;
      border-radius:999px;
      font-size:12.5px;
      color:var(--muted);
    }
    ul{margin:10px 0 0 18px; padding:0}
    li{margin:6px 0}
    code, pre{
      font-family:var(--mono);
      font-size:12.5px;
    }
    pre{
      background:rgba(11,18,32,.45);
      border:1px solid var(--border);
      border-radius:14px;
      padding:12px;
      overflow:auto;
      margin:10px 0 0;
    }
    .kv{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:12px;
    }
    .k{
      padding:12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:rgba(11,18,32,.35);
    }
    .k .label{color:var(--muted); font-size:12px}
    .k .value{font-size:16px; font-weight:700; margin-top:4px}
    .note{
      margin-top:12px;
      padding:12px;
      border-radius:14px;
      border:1px solid rgba(255,204,102,.35);
      background:rgba(255,204,102,.08);
      color:var(--text);
    }
    .note b{color:var(--warn)}
    footer{
      max-width:1100px;
      margin:0 auto;
      padding:0 18px 40px;
      color:var(--muted);
      font-size:13px;
    }
    .two-col{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:14px;
      margin-top:12px;
    }
    @media (max-width: 980px){
      .two-col{grid-template-columns:1fr}
    }
    .hr{
      height:1px;background:var(--border);
      margin:14px 0;
    }
    .toc a{display:block; padding:6px 0; color:var(--muted)}
    .toc a:hover{color:var(--text)}
  </style>
</head>

<body>
  <header>
    <div class="kicker">
      <span class="dot"></span>
      Leakage-validated, governance-ready workforce risk and business impact modeling
    </div>

    <h1>ImpactAudit</h1>
    <p class="subtitle">
      Multi-year workforce performance, pay equity, and business outcome modeling.
      Built to support decision-making in low-attrition and regulated environments using time-aware panel data, effective-dated joins, and scenario-based KPI impact analysis.
    </p>

    <div class="cta-row">
      <a class="btn primary" href="#quickstart">Quickstart</a>
      <a class="btn" href="#architecture">Architecture</a>
      <a class="btn" href="#performance">Leakage-validated performance</a>
      <a class="btn" href="#outputs">Outputs</a>
      <a class="btn" href="#governance">Governance and responsible use</a>
    </div>
  </header>

  <main class="grid">
    <section class="card" id="overview">
      <h2>Overview</h2>
      <p class="muted">
        ImpactAudit connects employee lifecycle data, effective-dated compensation and performance history, and business unit KPIs to produce:
        (1) forward-looking attrition risk scores for prioritization and planning, and
        (2) next-period revenue forecasts with KPI-based what-if impact estimates.
      </p>

      <div class="pill-row">
        <span class="pill">Time-aware employee-month panel</span>
        <span class="pill">Effective-dated as-of joins</span>
        <span class="pill">Leakage ablation suite</span>
        <span class="pill">Lift@Top-K prioritization</span>
        <span class="pill">BU-period revenue forecasting</span>
        <span class="pill">KPI what-if scenarios</span>
      </div>

      <div class="hr"></div>

      <h3>What it is</h3>
      <ul>
        <li>A structural risk stratification tool (ranking and segmentation), not a black-box churn predictor.</li>
        <li>Designed for rare-event attrition where lift and prioritization are more useful than raw accuracy.</li>
        <li>Audit-friendly with built-in leakage checks, ablations, and sanity tests.</li>
      </ul>

      <h3>What it is not</h3>
      <ul>
        <li>Not an automated decision system for discipline, compensation, or termination actions.</li>
        <li>Not a real-time shock detector without volatility signals (mobility, attendance strain, engagement).</li>
      </ul>
    </section>

    <aside class="card toc">
      <h2>Index</h2>
      <a href="#quickstart">Quickstart</a>
      <a href="#inputs">Data inputs</a>
      <a href="#architecture">Pipeline and design principles</a>
      <a href="#performance">Model performance</a>
      <a href="#outputs">Outputs</a>
      <a href="#governance">Governance and responsible use</a>
      <a href="#config">Configuration</a>
      <a href="#status">Status</a>
    </aside>

    <section class="card" id="quickstart">
      <h2>Quickstart</h2>
      <p class="muted">Run the project from the repo root after placing the required CSV inputs in the same directory (or in the configured data paths).</p>
      <pre><code>python Model.py</code></pre>

      <div class="note">
        <b>Note:</b> This project is intentionally leakage conservative. If you see unusually high AUC (for example &gt; 0.90) on rare attrition,
        treat it as a red flag and review the leakage suite outputs.
      </div>
    </section>

    <section class="card" id="inputs">
      <h2>Data Inputs</h2>
      <p class="muted">Expected CSV files (project root). Example columns shown below are representative.</p>

      <div class="two-col">
        <div class="k">
          <div class="label"><code>employees.csv</code></div>
          <div class="value">Employee lifecycle and org structure</div>
          <ul>
            <li><code>employee_id</code>, <code>hire_date</code>, <code>term_date</code> (nullable)</li>
            <li><code>business_unit_id</code></li>
            <li>Optional: <code>job_family</code>, <code>level</code>, <code>location</code>, <code>manager_id</code></li>
          </ul>
        </div>

        <div class="k">
          <div class="label"><code>comp_history.csv</code></div>
          <div class="value">Effective-dated compensation</div>
          <ul>
            <li><code>employee_id</code>, <code>effective_date</code></li>
            <li>Examples: <code>base_pay</code>, <code>bonus_target</code>, <code>compa_ratio</code>, <code>merit_pct</code>, <code>promo_flag</code></li>
          </ul>
        </div>

        <div class="k">
          <div class="label"><code>perf_history.csv</code></div>
          <div class="value">Effective-dated performance</div>
          <ul>
            <li><code>employee_id</code>, <code>review_date</code></li>
            <li>Examples: <code>rating</code>, <code>calibrated_rating</code>, <code>goal_attainment_pct</code></li>
          </ul>
        </div>

        <div class="k">
          <div class="label"><code>business_kpi.csv</code></div>
          <div class="value">Business unit KPIs by period</div>
          <ul>
            <li><code>business_unit_id</code>, <code>period_start</code></li>
            <li>Examples: <code>revenue</code>, <code>productivity_index</code>, <code>avg_vacancy_days</code>, <code>quality_incidents</code>, <code>operating_margin_pct</code></li>
          </ul>
        </div>
      </div>
    </section>

    <section class="card" id="architecture">
      <h2>Pipeline and Design Principles</h2>

      <h3>1) Employee-month panel construction</h3>
      <ul>
        <li>Build monthly snapshots from hire through termination.</li>
        <li>Drop termination month and later rows to preserve “employed at snapshot” integrity.</li>
        <li>Compute <code>tenure_months</code>.</li>
      </ul>

      <h3>2) Effective-dated feature attachment</h3>
      <ul>
        <li>Attach comp and performance as-of the snapshot using groupwise merge-asof logic.</li>
        <li>Each month reflects the most recent known state at that time.</li>
      </ul>

      <h3>3) Feature engineering</h3>
      <ul>
        <li>Lags (1, 3, 6 months), deltas, rolling aggregates (means, std).</li>
        <li>Peer-relative features (z-scores) within comparable groups.</li>
        <li>Manager and group context features where available.</li>
        <li>Strict shifting for any temporal aggregation to avoid leakage.</li>
      </ul>

      <h3>4) Attrition risk modeling</h3>
      <ul>
        <li>Forward horizon (default 3 months) with time-bucketed exit risk.</li>
        <li>Regularized Logistic Regression for interpretability and governance.</li>
        <li>Primary decision metric: Lift@Top-K risk population.</li>
      </ul>

      <h3>5) BU-period revenue forecasting</h3>
      <ul>
        <li>Aggregate employee-month features to business unit-month features.</li>
        <li>Ridge regression for next-period revenue prediction.</li>
        <li>Model reused for KPI what-if simulations.</li>
      </ul>
    </section>

    <section class="card" id="performance">
      <h2>Leakage-Validated Performance</h2>
      <p class="muted">
        In low-attrition environments, ROC-AUC can be misleading. ImpactAudit emphasizes ranking utility using Lift@Top-K
        and evaluates PR-AUC relative to the base rate.
      </p>

      <div class="kv">
        <div class="k">
          <div class="label">Attrition model (typical)</div>
          <div class="value">AUC ~ 0.63 to 0.67</div>
          <div class="muted">Leakage conservative; structural drivers dominate.</div>
        </div>
        <div class="k">
          <div class="label">Attrition lift (typical)</div>
          <div class="value">Lift@Top-10% ~ 2.0x to 2.5x</div>
          <div class="muted">Suitable for prioritization and planning.</div>
        </div>
        <div class="k">
          <div class="label">PR-AUC (typical)</div>
          <div class="value">~ 0.015 vs ~ 0.006 base</div>
          <div class="muted">Interpreted relative to attrition prevalence.</div>
        </div>
        <div class="k">
          <div class="label">Revenue model (typical)</div>
          <div class="value">R² varies by volatility</div>
          <div class="muted">MAE often in the ~300k range on test splits.</div>
        </div>
      </div>

      <div class="note">
        <b>Important:</b> Earlier iterations that produced very high AUC (for example ~0.94+) were treated as leakage risk and intentionally rejected.
        The current version prioritizes validity over inflated metrics.
      </div>
    </section>

    <section class="card" id="outputs">
      <h2>Outputs</h2>

      <h3>Employee-level</h3>
      <ul>
        <li><code>panel_scored.csv</code>: full employee-month panel with features and predictions</li>
        <li><code>panel_scores_min.csv</code>: minimal scoring output for consumption</li>
      </ul>

      <h3>Business unit level</h3>
      <ul>
        <li><code>bu_period_features.csv</code>: aggregated BU-period feature set</li>
        <li><code>bu_period_scored.csv</code>: BU-period revenue predictions</li>
      </ul>

      <h3>KPI impact</h3>
      <ul>
        <li><code>kpi_impact_output.csv</code>: predicted revenue deltas per KPI change scenario</li>
        <li><code>kpi_impact_summary.csv</code>: summary stats (mean, p10, p50, p90) per KPI</li>
      </ul>

      <h3>Diagnostics</h3>
      <ul>
        <li><code>debug_hard_excluded_cols.csv</code>, <code>debug_change_cols_detected.csv</code>, <code>debug_static_cols_used.csv</code></li>
        <li><code>debug_single_feature_scan_no_change.csv</code></li>
      </ul>
    </section>

    <section class="card" id="governance">
      <h2>Governance and Responsible Use</h2>
      <ul>
        <li>Intended for workforce planning, scenario modeling, and executive decision support.</li>
        <li>Not intended for automated employment actions or disciplinary decisions.</li>
        <li>KPI what-if outputs are model-based associations, not causal claims.</li>
        <li>Always apply human review, documented policy, and appropriate access controls.</li>
      </ul>
    </section>

    <section class="card" id="config">
      <h2>Configuration</h2>
      <p class="muted">Key parameters live in the project configuration (for example a Config dataclass):</p>
      <ul>
        <li>Prediction horizon (months)</li>
        <li>Train/test split strategy and holdout window</li>
        <li>Minimum history depth per employee</li>
        <li>Top-K flagging rate (for Lift@K)</li>
        <li>KPI what-if step sizes</li>
      </ul>
    </section>

    <section class="card" id="status">
      <h2>Status</h2>
      <ul>
        <li>Architecture complete</li>
        <li>Leakage suite implemented and validated</li>
        <li>Production-appropriate for intended use (structural risk stratification and planning)</li>
        <li>Further performance gains require new data signals (mobility, absences, engagement), not more tuning</li>
      </ul>

      <div class="hr"></div>

      <p class="muted">
        Author: <b>Ryan Brush</b><br />
        Enterprise Data, People Analytics, and AI Modeling
      </p>
    </section>
  </main>

  <footer>
    <p>
      Tip: Keep this page in the repo root as <code>index.html</code> for simple offline documentation.
      If you publish to GitHub Pages, it can serve as your landing page.
    </p>
  </footer>
</body>
</html>
